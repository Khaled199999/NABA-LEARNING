<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تطبيق تعلم اليابانية</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1e88e5" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4f8;
      color: #333;
      text-align: center;
      padding: 2rem;
    }
    h1 {
      color: #1e88e5;
    }
    #phrase {
      margin-top: 20px;
      font-size: 1.5rem;
      font-weight: bold;
      min-height: 100px;
    }
    #counter {
      margin: 10px;
      font-size: 1.1rem;
      color: #555;
    }
    button {
      background: #1e88e5;
      border: none;
      color: white;
      padding: 12px 24px;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #1565c0;
    }
    .button-group {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <h1>مرحباً بك في تطبيق تعلم اليابانية</h1>

  <div id="counter">الجملة 0 من 100</div>
  <div id="phrase">اضغط على زر "التالي" للبدء!</div>

  <div class="button-group">
    <button id="prevBtn">⏮ السابق</button>
    <button id="repeatBtn">🔁 إعادة</button>
    <button id="nextBtn">⏭ التالي</button>
  </div>

  <script>
    const phrases = [
      {jp:"こんにちは",rom:"Konnichiwa",ar:"مرحباً"},
      {jp:"ありがとう",rom:"Arigatō",ar:"شكراً"},
      {jp:"さようなら",rom:"Sayōnara",ar:"وداعاً"},
      {jp:"おはようございます",rom:"Ohayō gozaimasu",ar:"صباح الخير"},
      {jp:"こんばんは",rom:"Konbanwa",ar:"مساء الخير"},
      {jp:"すみません",rom:"Sumimasen",ar:"عفواً / المعذرة"},
      {jp:"はい",rom:"Hai",ar:"نعم"},
      {jp:"いいえ",rom:"Iie",ar:"لا"},
      {jp:"お願いします",rom:"Onegaishimasu",ar:"من فضلك"},
      {jp:"わかりました",rom:"Wakarimashita",ar:"فهمت"},
      {jp:"助けてください",rom:"Tasukete kudasai",ar:"ساعدني من فضلك"},
      {jp:"名前は何ですか؟",rom:"Namae wa nan desu ka?",ar:"ما اسمك؟"},
      {jp:"元気ですか？",rom:"Genki desu ka?",ar:"كيف حالك؟"},
      {jp:"私は元気です",rom:"Watashi wa genki desu",ar:"أنا بخير"},
      {jp:"これは何ですか？",rom:"Kore wa nan desu ka?",ar:"ما هذا؟"},
      {jp:"お元気で",rom:"Ogenki de",ar:"مع السلامة"},
      {jp:"また会いましょう",rom:"Mata aimashō",ar:"إلى اللقاء"},
      {jp:"お誕生日おめでとう",rom:"Otanjōbi omedetō",ar:"عيد ميلاد سعيد"},
      {jp:"いただきます",rom:"Itadakimasu",ar:"دعاء قبل الأكل"},
      {jp:"ごちそうさまでした",rom:"Gochisōsama deshita",ar:"شكراً على الطعام"},
      // ← يمكنك هنا متابعة إدخال باقي الجمل حتى 100 بنفس التنسيق
      {jp:"雪が降っています",rom:"Yuki ga futteimasu",ar:"إنها تثلج"}
    ];

    let index = -1;
    const phraseDiv = document.getElementById('phrase');
    const counterDiv = document.getElementById('counter');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const repeatBtn = document.getElementById('repeatBtn');

    function speak(text) {
      if (!('speechSynthesis' in window)) return;
      speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'ja-JP';
      speechSynthesis.speak(utterance);
    }

    function showPhrase(i) {
      const { jp, rom, ar } = phrases[i];
      phraseDiv.innerHTML = `<div><span style="font-size:2rem;">${jp}</span><br/><em>${rom}</em><br/><strong>${ar}</strong></div>`;
      counterDiv.textContent = `الجملة ${i + 1} من ${phrases.length}`;
      speak(jp);
    }

    nextBtn.addEventListener('click', () => {
      index = (index + 1) % phrases.length;
      showPhrase(index);
    });

    prevBtn.addEventListener('click', () => {
      index = (index - 1 + phrases.length) % phrases.length;
      showPhrase(index);
    });

    repeatBtn.addEventListener('click', () => {
      if (index >= 0) showPhrase(index);
    });
  </script>
</body>
</html>
